{"Name":"Ufiler_Functions","ConfigurationID":"9a5a92e9-23e2-406c-ac18-c94a244606d9","searchItems":[],"queryItems":[],"listItems":[],"messageItems":[{"Index":1,"Level":0,"Parameters":{"Name":"Module Permissions","RenderType":"0","skipDebug":"false","includeSearch":"false","includeExport":"False","includeImport":"False"},"ActionType":"Action-Region","ChildActions":[{"Index":2,"Level":0,"Parameters":{"Value":"Get all the role permissions attached to this module.  Create dynamic variables for each type of permission key."},"ActionType":"Action-Comment","ChildActions":[]},{"Index":3,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"ExceptionMessage","Value":"","SkipProcessing":"false","AssignmentType":"0"},"ActionType":"Action-Assignment","ChildActions":[]},{"Index":4,"Level":0,"Parameters":{"Name":"QryModuleRolePermission","Query":"Exec [DatabaseOwner,System][ObjectQualifier,System]GetModulePermissionsByModuleId\n@ModuleId = [ModuleId,System],\n@PermissionId = -1","IsProcess":"false","Connection":"","CacheName":"","CacheTime":"","CacheShared":"false"},"ActionType":"Action-Execute","ChildActions":[{"Index":5,"Level":0,"Parameters":{"Value":"Add a semi colon after each role.  The condition will return false only the first time to prevent a semi colon being added before the first role"},"ActionType":"Action-Comment","ChildActions":[]},{"Index":6,"Level":0,"Parameters":{"LeftCondition":"[Format,\"[Module[PermissionKey,QryModuleRolePermission]Roles,Action]\",{Length}] <> 0","RightCondition":"Right Condition","Operator":"=","IsAdvanced":"True"},"ActionType":"Condition-If","ChildActions":[{"Index":7,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"Module[PermissionKey,QryModuleRolePermission]Roles","Value":";","SkipProcessing":"false","AssignmentType":"1"},"ActionType":"Action-Assignment","ChildActions":[]}]},{"Index":8,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"Module[PermissionKey,QryModuleRolePermission]Roles","Value":"[RoleName,QryModuleRolePermission]","SkipProcessing":"false","AssignmentType":"1"},"ActionType":"Action-Assignment","ChildActions":[]}]},{"Index":9,"Level":0,"Parameters":{"LeftCondition":"'[QryModuleRolePermission.isSuccessful,Action]'","RightCondition":"'True'","Operator":"<>","IsAdvanced":"False"},"ActionType":"Condition-If","ChildActions":[{"Index":10,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"ExceptionMessage","Value":"[QryModuleRolePermission.Error,Action]","SkipProcessing":"false","AssignmentType":"0"},"ActionType":"Action-Assignment","ChildActions":[]}]}]},{"Index":11,"Level":0,"Parameters":{"Name":"Tab Permissions","RenderType":"0","skipDebug":"false","includeSearch":"false","includeExport":"False","includeImport":"False"},"ActionType":"Action-Region","ChildActions":[{"Index":12,"Level":0,"Parameters":{"Value":"Get all the role permissions attached to this page.  Create dynamic variables for each type of permission key."},"ActionType":"Action-Comment","ChildActions":[]},{"Index":13,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"ExceptionMessage","Value":"","SkipProcessing":"false","AssignmentType":"0"},"ActionType":"Action-Assignment","ChildActions":[]},{"Index":14,"Level":0,"Parameters":{"Name":"QryTabRolePermission","Query":"Exec [DatabaseOwner,System][ObjectQualifier,System]GetTabPermissionsByTabId\n@TabId = [TabId,System],\n@PermissionId = -1\n","IsProcess":"false","Connection":"","CacheName":"","CacheTime":"","CacheShared":"false"},"ActionType":"Action-Execute","ChildActions":[{"Index":15,"Level":0,"Parameters":{"Value":"Add a semi colon after each role.  The condition will return false only the first time to prevent a semi colon being added before the first role"},"ActionType":"Action-Comment","ChildActions":[]},{"Index":16,"Level":0,"Parameters":{"LeftCondition":"[Format,\"[Tab[PermissionKey,QryTabRolePermission]Roles,Action]\",{Length}] <> 0","RightCondition":"Right Condition","Operator":"=","IsAdvanced":"True"},"ActionType":"Condition-If","ChildActions":[{"Index":17,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"Tab[PermissionKey,QryTabRolePermission]Roles","Value":";","SkipProcessing":"false","AssignmentType":"1"},"ActionType":"Action-Assignment","ChildActions":[]}]},{"Index":18,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"Tab[PermissionKey,QryTabRolePermission]Roles","Value":"[RoleName,QryTabRolePermission]","SkipProcessing":"false","AssignmentType":"1"},"ActionType":"Action-Assignment","ChildActions":[]}]},{"Index":19,"Level":0,"Parameters":{"LeftCondition":"'[QryTabRolePermission.isSuccessful,Action]'","RightCondition":"'True'","Operator":"<>","IsAdvanced":"False"},"ActionType":"Condition-If","ChildActions":[{"Index":20,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"ExceptionMessage","Value":"[QryTabRolePermission.Error,Action]","SkipProcessing":"false","AssignmentType":"0"},"ActionType":"Action-Assignment","ChildActions":[]}]}]},{"Index":21,"Level":0,"Parameters":{"Name":"Module Settings","RenderType":"0","skipDebug":"false","includeSearch":"false","includeExport":"false","includeImport":"false"},"ActionType":"Action-Region","ChildActions":[{"Index":22,"Level":0,"Parameters":{"Value":"Get all the role permissions attached to this module.  Create dynamic variables for each type of permission key."},"ActionType":"Action-Comment","ChildActions":[]},{"Index":23,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"ExceptionMessage","Value":"","SkipProcessing":"false","AssignmentType":"0"},"ActionType":"Action-Assignment","ChildActions":[]},{"Index":24,"Level":0,"Parameters":{"Name":"QryModuleSettings","Query":"SELECT [ModuleID]\n      ,[SettingName]\n      ,[SettingValue]\n  FROM [DatabaseOwner,System][ObjectQualifier,System][ModuleSettings]\n  where ModuleId = [ModuleId,System] and settingname like 'ufiler%'\n","IsProcess":"false","Connection":"","CacheName":"","CacheTime":"","CacheShared":"false"},"ActionType":"Action-Execute","ChildActions":[{"Index":25,"Level":0,"Parameters":{"Value":"Add a semi colon after each role.  The condition will return false only the first time to prevent a semi colon being added before the first role"},"ActionType":"Action-Comment","ChildActions":[]},{"Index":26,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"[|coalesce,SettingName,QryModuleSettings,\"{REPLACE:Ufiler_,}\"]","Value":"[SettingValue,QryModuleSettings]","SkipProcessing":"false","AssignmentType":"0"},"ActionType":"Action-Assignment","ChildActions":[]}]},{"Index":27,"Level":0,"Parameters":{"LeftCondition":"'[QryModuleSettings.isSuccessful,Action]'","RightCondition":"'True'","Operator":"<>","IsAdvanced":"False"},"ActionType":"Condition-If","ChildActions":[{"Index":28,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"ExceptionMessage","Value":"[QryModuleSettings.Error,Action]","SkipProcessing":"false","AssignmentType":"0"},"ActionType":"Action-Assignment","ChildActions":[]}]}]},{"Index":29,"Level":0,"Parameters":{"Name":"Roles","RenderType":"0","skipDebug":"false","includeSearch":"false","includeExport":"False","includeImport":"False"},"ActionType":"Action-Region","ChildActions":[{"Index":30,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"IsAdmin","Value":"'[Format,\"Administrators\",{IsInRole}]'='True'","SkipProcessing":"true","AssignmentType":"0"},"ActionType":"Action-Assignment","ChildActions":[]},{"Index":31,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"CanEditModule","Value":"'[Format,\"[ModuleEDITRoles,Action]\",{IsInRole}]' = 'True'","SkipProcessing":"true","AssignmentType":"0"},"ActionType":"Action-Assignment","ChildActions":[]},{"Index":32,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"CanEditPage","Value":"'[Format,\"[TabEDITRoles,Action]\",{IsInRole}]' = 'True'","SkipProcessing":"true","AssignmentType":"0"},"ActionType":"Action-Assignment","ChildActions":[]}]},{"Index":33,"Level":0,"Parameters":{"Name":"PagingSetup","RenderType":"0","skipDebug":"false","includeSearch":"false","includeExport":"false","includeImport":"false"},"ActionType":"Action-Region","ChildActions":[{"Index":34,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"UfilerPaging","Value":"<div class=\"PagerDiv\">\n{PAGER,\nCurrent=\"[Ufiler_CurrentPage,Table1]\",\nPages=\"{MATH,\"CEIL([Ufiler_TotalRows,Table6]/[Ufiler_RecordsPerPage,Table4])\"}\",\nShow=\"[Ufiler_NumberOfPageLinks,Table5]\",\nFormat=\"<span class=\\\"PagingLink\\\"><a href=\\\"#\\\" onclick=\\\"ows.Fetch('[ModuleID,System]','-1','PageNumber=#PAGE#');return false;\\\">#PAGE#</a></span>\",\nCurrentFormat=\"<span class=\\\"PagingLink ActiveLink\\\"><a href=\\\"#\\\" onclick=\\\"ows.Fetch('[ModuleID,System]','-1','PageNumber=#PAGE#');return false;\\\">#PAGE#</a></span>\",\nPageDelimiter=\"\",\nDelimiter=\"\",\nLeftFormat=\"<span class=\\\"PagingLink\\\"><a href=\\\"#\\\" onclick=\\\"ows.Fetch('[ModuleID,System]','-1','PageNumber=1');return false;\\\">«« First</a></span><span class=\\\"PagingLink\\\"><a href=\\\"#\\\" onclick=\\\"ows.Fetch('[ModuleID,System]','-1','PageNumber=[Ufiler_PreviousPage,Table2]');return false;\\\">« BACK</a></span>\",\nDisabledLeftFormat=\"<span class=\\\"PagingLink DisabledLink\\\">«« First</span><span class=\\\"PagingLink DisabledLink\\\">« BACK</span>\",\nRightFormat=\"<span class=\\\"PagingLink\\\"><a href=\\\"#\\\" onclick=\\\"ows.Fetch('[ModuleID,System]','-1','PageNumber=[Ufiler_NextPage,Table3]');return false;\\\">NEXT »</a></span><span class=\\\"PagingLink\\\"><a href=\\\"#\\\" onclick=\\\"ows.Fetch('[ModuleID,System]','-1','PageNumber={MATH,\"CEIL([Ufiler_TotalRows,Table6]/[Ufiler_RecordsPerPage,Table4])\"}');return false;\\\">Last »»</a></span>\",\nDisabledRightFormat=\"<span class=\\\"PagingLink DisabledLink\\\">NEXT »</span><span class=\\\"PagingLink DisabledLink\\\">Last »»</span>\",\nEmptyFormat=\"\"\n}\n</div>","SkipProcessing":"false","AssignmentType":"0"},"ActionType":"Action-Assignment","ChildActions":[]}]},{"Index":35,"Level":0,"Parameters":{"Type":"Detail-NoQuery","GroupStatement":"","GroupIndex":"","Value":"<div>\n\t<table style=\"padding-top:10px;\">\n\t\t<tr>\n\t\t\t<td style=\"white-space:nowrap;\">Logged in user is</td><td style=\"white-space:nowrap;\">[UserInfo.Username,System] ([UserInfo.UserID,System])<td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"white-space:nowrap;\">The Page Edit Roles Are</td><td style=\"white-space:nowrap;\">[TabEDITRoles,Action]</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"white-space:nowrap;\">The Module Edit Roles Are</td><td style=\"white-space:nowrap;\">[ModuleEDITRoles,Action]</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"white-space:nowrap;\">Is this user in Page Edit Roles?</td><td style=\"white-space:nowrap;\">[Format,\"[TabEDITRoles,Action]\",{IsInRole}]</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"white-space:nowrap;\">Is this user in Module Edit Roles?</td><td style=\"white-space:nowrap;\">[Format,\"[ModuleEDITRoles,Action]\",{IsInRole}]</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"white-space:nowrap;\">Is this user an Administrator?</td><td style=\"white-space:nowrap;\">[Format,\"Administrators\",{IsInRole}]</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"white-space:nowrap;\">Is this user a SuperUser?</td><td style=\"white-space:nowrap;\">[Format,,{ISSUPERUSER}]</td>\n\t\t</tr>\n\t</table>\n</div>\n","Connection":"","Filter":"","CacheTime":"","CacheName":"","CacheShared":"false"},"ActionType":"Template","ChildActions":[]}],"recordsPerPage":"0","enableAlphaFilter":"false","enablePageSelection":"false","enableRecordsPerPage":"false","enableCustomPaging":"false","enableExcelExport":false,"enableHide_OnNoQuery":false,"enableHide_OnNoResults":false,"enableAdvancedParsing":true,"enableCompoundIIFConditions":"true","enableQueryDebug":"true","enableQueryDebug_Edit":"false","enableQueryDebug_Admin":"false","enableQueryDebug_Super":"false","enableQueryDebug_Log":false,"enableQueryDebug_ErrorLog":false,"autoRefreshInterval":"","skipRedirectActions":"false","skipSubqueryDebugging":"false","enableAdmin_Edit":true,"enableAdmin_Admin":false,"enableAdmin_Super":false,"BotRecordCount":0,"BotPageVariableName":null,"enableBotShowAllRecords":false,"enableBotDetection":false,"BotNonAjaxText":null,"disableOpenScript":false,"enableSilverlight":false,"enableAJAX":"false","enableAJAXPaging":"false","enableAJAXCustomPaging":"false","enableAJAXCustomStatus":"false","enableAJAXPageHistory":"false","customAJAXPageHistory":"","enableAJAXManual":"false","includeJavascriptUtilities":"false","includeJavascriptValidation":"false","javascriptInclude":[],"javascriptOnComplete":"","enableMultipleColumnSorting":"false","ModuleCommunicationMessageType":"","showAll":"true","useExplicitSystemVariables":"true","enabledForcedQuerySplit":"false","query":"","filter":"","customConnection":"","listItem":"","listAItem":"","defaultItem":"","noqueryItem":"","SearchQuery":"","SearchTitle":"","SearchLink":"","SearchAuthor":"","SearchDate":"","SearchKey":"","SearchContent":"","SearchDescription":"","Header":null,"Footer":null,"Title":null,"Version":"20"}